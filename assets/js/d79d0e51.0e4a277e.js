"use strict";(self.webpackChunkopendal_website=self.webpackChunkopendal_website||[]).push([[1764],{121:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"bindings/nodejs","title":"Node.js","description":"","source":"@site/docs/20-bindings/nodejs.mdx","sourceDirName":"20-bindings","slug":"/bindings/nodejs","permalink":"/bindings/nodejs","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/opendal/tree/main/website/docs/20-bindings/nodejs.mdx","tags":[],"version":"current","lastUpdatedBy":"Xuanwo","lastUpdatedAt":1741601725000,"frontMatter":{"title":"Node.js"},"sidebar":"docs","previous":{"title":"Lua \ud83d\udea7","permalink":"/bindings/lua"},"next":{"title":"OCaml \ud83d\udea7","permalink":"/bindings/ocaml"}}');var i=s(6070),a=s(6738),r=s(383);function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"apache-opendal-nodejs-binding",children:"Apache OpenDAL\u2122 Node.js Binding"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/opendal",children:(0,i.jsx)(n.img,{src:"/img/external/6fc9234a805e6983d9cc27a62c8568aa.svg",alt:""})}),"\n",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/opendal",children:(0,i.jsx)(n.img,{src:"/img/external/6a13f224a9ca353f3d7201919a549c91.svg",alt:"npm"})}),"\n",(0,i.jsx)(n.a,{href:"https://opendal.apache.org/docs/nodejs/",children:(0,i.jsx)(n.img,{src:"/img/external/0331140e6c28f97a21906ae8f1b0117b.svg",alt:"Website"})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/apache/opendal/assets/5351546/87bbf6e5-f19e-449a-b368-3e283016c887",alt:""})}),"\n",(0,i.jsx)(n.h2,{id:"useful-links",children:"Useful Links"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://opendal.apache.org/docs/nodejs/",children:"Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./upgrade.md",children:"Upgrade Guide"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm install opendal\n"})}),"\n",(0,i.jsx)(n.h2,{id:"docs",children:"Docs"}),"\n",(0,i.jsx)(n.p,{children:"To build the docs locally, please run the following commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# Only need to run once unless you want to update the docs theme\npnpm run build:theme\n\n# Build the docs\npnpm run docs\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tests",children:"Tests"}),"\n",(0,i.jsxs)(n.p,{children:["Services behavior tests read necessary configs from env vars or the ",(0,i.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,i.jsxs)(n.p,{children:["You can copy ",(0,i.jsx)(n.a,{href:"/.env.example",children:".env.example"})," to ",(0,i.jsx)(n.code,{children:"$(pwd)/.env"})," and change the values on need, or directly set env vars with ",(0,i.jsx)(n.code,{children:"export KEY=VALUE"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Take ",(0,i.jsx)(n.code,{children:"fs"})," for example, we need to enable bench on ",(0,i.jsx)(n.code,{children:"fs"})," on ",(0,i.jsx)(n.code,{children:"/tmp"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-properties",children:"OPENDAL_TEST=fs\nOPENDAL_FS_ROOT=/tmp\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can run service behavior tests of enabled with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pnpm build && pnpm test\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import { Operator } from "opendal";\n\nasync function main() {\n  const op = new Operator("fs", { root: "/tmp" });\n  await op.write("test", "Hello, World!");\n  const bs = await op.read("test");\n  console.log(new TextDecoder().decode(bs));\n  const meta = await op.stat("test");\n  console.log(`contentLength: ${meta.contentLength}`);\n}\n\nmain();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"usage-with-nextjs",children:"Usage with Next.js"}),"\n",(0,i.jsxs)(n.p,{children:["Config automatically be bundled by ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/config/next-config-js/serverExternalPackages",children:"Next.js"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  serverExternalPackages: [\"opendal\"],\n};\n\nmodule.exports = nextConfig;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Start with ",(0,i.jsx)(n.a,{href:"CONTRIBUTING.md",children:"Contributing Guide"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Submit ",(0,i.jsx)(n.a,{href:"https://github.com/apache/opendal/issues/new",children:"Issues"})," for bug report or feature requests."]}),"\n",(0,i.jsxs)(n.li,{children:["Asking questions in the ",(0,i.jsx)(n.a,{href:"https://github.com/apache/opendal/discussions/new?category=q-a",children:"Discussions"}),".\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Talk to community at ",(0,i.jsx)(n.a,{href:"https://opendal.apache.org/discord",children:"Discord"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"license-and-trademarks",children:"License and Trademarks"}),"\n",(0,i.jsxs)(n.p,{children:["Licensed under the Apache License, Version 2.0: ",(0,i.jsx)(n.a,{href:"http://www.apache.org/licenses/LICENSE-2.0",children:"http://www.apache.org/licenses/LICENSE-2.0"})]}),"\n",(0,i.jsx)(n.p,{children:"Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation."})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}const c={title:"Node.js"},d=void 0,h={},p=[{value:"Useful Links",id:"useful-links",level:2},{value:"Installation",id:"installation",level:2},{value:"Docs",id:"docs",level:2},{value:"Tests",id:"tests",level:2},{value:"Usage",id:"usage",level:2},{value:"Usage with Next.js",id:"usage-with-nextjs",level:2},{value:"Contributing",id:"contributing",level:2},{value:"License and Trademarks",id:"license-and-trademarks",level:2}];function u(e){return(0,i.jsx)(r.A,{basePath:"bindings/nodejs/",children:(0,i.jsx)(l,{components:{h1:"h2"}})})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u()}},383:(e,n,s)=>{s.d(n,{A:()=>a});var t=s(758),i=s(6070);function a({children:e,owner:n="apache",repo:s="opendal",branch:a="main",basePath:r="",components:o={}}){const l=e=>{const t=e.replace(/^\.\//,"");return`https://github.com/${n}/${s}/blob/${a}/${r}${t}`},c={...o,a:e=>{const{href:n,...s}=e;return n&&n.startsWith("./")?(0,i.jsx)("a",{...s,href:l(n)}):(0,i.jsx)("a",{...e})},p:e=>{const{children:n}=e;if("string"==typeof n){const e=/\[(.*?)\]:\s*(\.\/[^\s]+)/g;if(e.test(n)){const s=n.replace(e,(e,n,s)=>`[${n}]: ${l(s)}`);return(0,i.jsx)("p",{children:s})}}return(0,i.jsx)("p",{...e})}};return"string"==typeof e?(e=>{if("string"!=typeof e)return e;let n=e.replace(/\[(.*?)\]\((\.\/[^)]+)\)/g,(e,n,s)=>`[${n}](${l(s)})`);return n=n.replace(/\[(.*?)\]:\s*(\.\/[^\s]+)/g,(e,n,s)=>`[${n}]: ${l(s)}`),n})(e):t.isValidElement(e)?t.cloneElement(e,{components:{...e.props.components||{},...c}}):e}},6738:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(758);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);